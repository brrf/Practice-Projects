<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>React Stopwatch</title>
	
</head>
<body>
	



	<script src="https://unpkg.com/babel-standalone@6/babel.js"></script>
	<script src="https://unpkg.com/react@16.7.0/umd/react.development.js"></script>
	<script src="https://unpkg.com/react-dom@16.7.0/umd/react-dom.development.js"></script>
	<script src="https://unpkg.com/prop-types@15.6.1/prop-types.js"></script>
	<div id="root"></div>


	<script type="text/babel"> 

	class StopWatch extends React.Component {
		state = {lapse: 0, running: false}

		toggleTimer = () => {
			const startTime = Date.now() - this.state.lapse;
			this.setState(state => {
				if (state.running) {
					clearInterval(this.toggle)
				} else {
					this.toggle = setInterval( () => {
						this.setState({lapse: Date.now() - startTime});
					})
				}	
				return {running: !state.running};		
			})
			
		}

		resetTimer = () => {
			clearInterval(this.toggle)
			this.setState({lapse: 0, running: false})
		}

		render () {
			const {lapse, running} = this.state
			return (
				<div>
					<label>{lapse}ms</label>
					<button onClick={this.toggleTimer.bind(this)}>{running ? 'Stop' : 'Start'}</button>
					<button onClick={this.resetTimer.bind(this)}>Reset</button>
					<div> Hello {this.props.firstName} {this.props.lastName} </div>
				</div>
			)
		}
	}		

	StopWatch.propTypes = {
		firstName: PropTypes.string,
		lastName: PropTypes.string,
	}

	const element = <StopWatch />


	ReactDOM.render(
		<StopWatch firstName={3} />,
		document.getElementById('root')
		)



	</script>
</body>
</html>